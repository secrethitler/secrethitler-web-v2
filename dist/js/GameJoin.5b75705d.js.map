{"version":3,"sources":["webpack:///./src/views/GameJoin.vue?04dd","webpack:///./src/views/GameJoin.vue?5480","webpack:///./src/api/game/join.ts","webpack:///./src/actions/joinGame.ts","webpack:///./src/views/GameJoin.vue","webpack:///./src/views/GameJoin.vue?42d6","webpack:///./src/views/GameJoin.vue?3690","webpack:///./src/utils/navigateTo.ts","webpack:///./src/assets/landingpage/bird.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","_v","_s","error","on","$event","preventDefault","handleSubmit","model","value","callback","$$v","userName","expression","channelName","_m","staticRenderFns","params","http","post","join","data","store","commit","INIT_GAME","navigateTo","GameLobby","joining","joinGame","$gtag","event","event_category","event_label","$route","query","lobby","component","availableWhenDead","GameIsKilled","GameWon","GameInfo","route","getters","isDead","includes","push","name","id","SET_CURRENT_ACTION","module","exports"],"mappings":"4GAAA,yBAAqiB,EAAG,G,yCCAxiB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,QAAQ,CAACG,IAAI,cAAcC,MAAM,CAAC,KAAO,gBAAgB,CAACJ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,YAAYP,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAACF,EAAG,KAAK,CAACE,YAAY,wCAAwC,CAACN,EAAIS,GAAG,kBAAkBL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,OAAO,CAACG,IAAI,OAAOD,YAAY,eAAeE,MAAM,CAAC,OAAS,aAAa,OAAS,QAAQI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBd,EAAIe,aAAaF,MAAW,CAACT,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,IAAM,aAAa,CAACR,EAAIS,GAAG,eAAeL,EAAG,WAAW,CAACI,MAAM,CAAC,GAAK,WAAW,KAAO,OAAO,KAAO,WAAW,SAAW,IAAIQ,MAAM,CAACC,MAAOjB,EAAY,SAAEkB,SAAS,SAAUC,GAAMnB,EAAIoB,SAASD,GAAKE,WAAW,eAAe,GAAGjB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,IAAM,gBAAgB,CAACR,EAAIS,GAAG,cAAcL,EAAG,WAAW,CAACI,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,KAAO,cAAc,SAAW,IAAIQ,MAAM,CAACC,MAAOjB,EAAe,YAAEkB,SAAS,SAAUC,GAAMnB,EAAIsB,YAAYH,GAAKE,WAAW,kBAAkB,GAAGrB,EAAIuB,GAAG,OAAOvB,EAAIuB,GAAG,QAAQ,IAC1yCC,EAAkB,CAAC,WAAa,IAAIxB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACE,YAAY,OAAO,CAACN,EAAIS,GAAG,mBAAmB,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,QAAkC,IAAM,gB,oICEzc,WAAWY,EAAkBE,GACzC,IAAMG,EAA0B,CAC9BL,WACAE,eAGF,OAAOI,EAAA,KAAKC,KAAuB,aAAcF,I,oCCFpC,gBAAf,gC,8DAAe,WAAgBL,EAAkBE,GAAlC,yGACUM,EAAKR,EAAUE,GADzB,gBACLO,EADK,EACLA,KAERC,EAAA,KAAMC,OAAO,OAAUC,UAAWH,GAElC,OAAAI,EAAA,MAAW,OAAMC,WALJ,2C,wBC8Cf,IAAqB,EAArB,yG,0BACE,EAAAZ,YAAc,GAEd,EAAAF,SAAW,GAEX,EAAAT,MAAQ,GAER,EAAAwB,SAAU,EAPZ,gNAUQlC,KAAKkC,QAVb,wDAcIlC,KAAKkC,SAAU,EAdnB,kBAiBYC,EAASnC,KAAKmB,SAAUnB,KAAKqB,aAjBzC,OAmBMrB,KAAKoC,MAAMC,MAAM,OAAQ,CACvBC,eAAgB,OAChBC,YAAavC,KAAKqB,cArB1B,mDAwBMrB,KAAKU,MAAL,KACAV,KAAKkC,SAAU,EAzBrB,kJA8B2C,kBAA5BlC,KAAKwC,OAAOC,MAAMC,QAC3B1C,KAAKqB,YAAcrB,KAAKwC,OAAOC,MAAMC,WA/B3C,GAAsC,QAAjB,EAAQ,gBAD5B,QACoB,WCrD8W,I,wBCQ/XC,EAAY,eACd,EACA7C,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E,mHCdTC,EAAoB,CACxB,OAAMC,aACN,OAAMC,QACN,OAAMC,UAGM,gBAAWC,GAGnB,OAAMC,QAAQC,SAAWN,EAAkBO,SAASH,KAIxD,OAAOI,KAAK,CAAEC,KAAML,EAAOxB,OAAQ,CAAE8B,GAAI,OAAML,QAAQ5B,eAEvD,OAAMS,OAAO,OAAUyB,mBAAoBP,M,4CCpB7CQ,EAAOC,QAAU,IAA0B","file":"js/GameJoin.5b75705d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameJoin.vue?vue&type=style&index=0&id=10a24b09&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameJoin.vue?vue&type=style&index=0&id=10a24b09&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-join min-h-screen\"},[_c('modal',{ref:\"error-modal\",attrs:{\"name\":\"error-modal\"}},[_c('div',{staticClass:\"p-4\"},[_vm._v(_vm._s(_vm.error))])]),_c('div',{staticClass:\"container font-serif text-white py-4 lg:py-12\"},[_c('h1',{staticClass:\"text-5xl font-bold text-center mb-12\"},[_vm._v(\"Join a Lobby\")]),_c('div',{staticClass:\"flex flex-wrap -mx-4\"},[_c('div',{staticClass:\"px-4 w-full lg:w-1/2 mb-8 lg:order-2\"},[_c('form',{ref:\"form\",staticClass:\"block w-full\",attrs:{\"action\":\"/game/join\",\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"mb-6\"},[_c('ui-label',{attrs:{\"for\":\"userName\"}},[_vm._v(\"Your Name\")]),_c('ui-input',{attrs:{\"id\":\"userName\",\"type\":\"text\",\"name\":\"userName\",\"required\":\"\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}})],1),_c('div',{staticClass:\"mb-8\"},[_c('ui-label',{attrs:{\"for\":\"channelName\"}},[_vm._v(\"Lobby ID\")]),_c('ui-input',{attrs:{\"id\":\"channelName\",\"type\":\"text\",\"name\":\"channelName\",\"required\":\"\"},model:{value:(_vm.channelName),callback:function ($$v) {_vm.channelName=$$v},expression:\"channelName\"}})],1),_vm._m(0)])]),_vm._m(1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex justify-end\"},[_c('button',{staticClass:\"btn\"},[_vm._v(\"Join Lobby\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-4 w-full lg:w-1/2 mb-8 lg:order-1\"},[_c('div',{staticClass:\"flex justify-center\"},[_c('img',{attrs:{\"src\":require(\"../assets/landingpage/bird.png\"),\"alt\":\"Bird\"}})])])}]\n\nexport { render, staticRenderFns }","import http from '@/plugins/http';\nimport { GameJoinRequest, GameJoinResponse } from '@/types/http';\n\nexport default function (userName: string, channelName: string) {\n  const params: GameJoinRequest = {\n    userName,\n    channelName,\n  };\n\n  return http.post<GameJoinResponse>('/game/join', params);\n}\n","import store from '@/store';\nimport join from '@/api/game/join';\nimport { mutations } from '@/store/game';\nimport { ChannelName } from '@/types/game';\nimport Route from '@/types/route';\nimport navigateTo from '@/utils/navigateTo';\n\nexport default async function (userName: string, channelName: ChannelName) {\n  const { data } = await join(userName, channelName);\n\n  store.commit(mutations.INIT_GAME, data);\n\n  navigateTo(Route.GameLobby);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\nimport joinGame from '../actions/joinGame';\n\n@Component\nexport default class GameJoin extends Vue {\n  channelName = '';\n\n  userName = '';\n\n  error = '';\n\n  joining = false;\n\n  async handleSubmit() {\n    if (this.joining) {\n      return;\n    }\n\n    this.joining = true;\n\n    try {\n      await joinGame(this.userName, this.channelName);\n\n      this.$gtag.event('game', {\n        event_category: 'join',\n        event_label: this.channelName,\n      });\n    } catch (e) {\n      this.error = e;\n      this.joining = false;\n    }\n  }\n\n  created() {\n    if (typeof this.$route.query.lobby === 'string') {\n      this.channelName = this.$route.query.lobby;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameJoin.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameJoin.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameJoin.vue?vue&type=template&id=10a24b09&scoped=true&\"\nimport script from \"./GameJoin.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameJoin.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameJoin.vue?vue&type=style&index=0&id=10a24b09&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10a24b09\",\n  null\n  \n)\n\nexport default component.exports","import Route from '@/types/route';\nimport router from '@/router';\nimport store from '@/store';\nimport { mutations } from '@/store/game';\n\nconst availableWhenDead = [\n  Route.GameIsKilled,\n  Route.GameWon,\n  Route.GameInfo,\n];\n\nexport default function (route: Route) {\n  // If the current player is dead, we don't want to redirect to the action,\n  // unless the game is over, or he wants to see the info screen.\n  if (store.getters.isDead && !availableWhenDead.includes(route)) {\n    return;\n  }\n\n  router.push({ name: route, params: { id: store.getters.channelName } });\n\n  store.commit(mutations.SET_CURRENT_ACTION, route);\n}\n","module.exports = __webpack_public_path__ + \"img/bird.56805fb7.png\";"],"sourceRoot":""}