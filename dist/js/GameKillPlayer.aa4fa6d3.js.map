{"version":3,"sources":["webpack:///./src/utils/mergeDefaultParams.ts","webpack:///./src/views/GameKillPlayer.vue?770b","webpack:///./src/api/player/execute.ts","webpack:///./src/actions/executePlayer.ts","webpack:///./src/views/GameKillPlayer.vue","webpack:///./src/views/GameKillPlayer.vue?4395","webpack:///./src/views/GameKillPlayer.vue?3d0d","webpack:///./src/utils/navigateTo.ts"],"names":["userId","getters","channelName","render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","class","getClasses","_l","player","key","_s","userName","on","$event","eliminate","staticRenderFns","executedUserId","params","mergeDefaultParams","http","post","executePlayer","id","execute","data","navigateTo","GameInfo","eliminating","$gtag","event","event_category","event_label","$store","members","filter","member","computed","component","availableWhenDead","GameIsKilled","GameWon","route","isDead","includes","push","name","commit","SET_CURRENT_ACTION"],"mappings":"gHAAA,gBAGc,kBAIZ,MAAO,CACLA,OAAQ,OAAMC,QAAQD,OACtBE,YAAa,OAAMD,QAAQC,e,2CCT/B,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACJ,EAAIM,GAAG,sBAAsBF,EAAG,MAAM,CAACG,YAAY,iCAAiC,CAACH,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,KAAK,CAACG,YAAY,4BAA4B,CAACP,EAAIM,GAAG,iDAAiDF,EAAG,IAAI,CAACJ,EAAIM,GAAG,6CAA6CF,EAAG,MAAM,CAACG,YAAY,OAAOC,MAAMR,EAAIS,YAAY,CAACL,EAAG,KAAKJ,EAAIU,GAAIV,EAAY,UAAE,SAASW,GAAQ,OAAOP,EAAG,KAAK,CAACQ,IAAID,EAAOf,OAAOW,YAAY,+GAA+G,CAACH,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAIa,GAAGF,EAAOG,aAAaV,EAAG,SAAS,CAACG,YAAY,+HAA+HQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,UAAUN,EAAOf,WAAW,CAACI,EAAIM,GAAG,oBAAmB,UAAU,IACp8BY,EAAkB,G,sKCIR,WAAWC,GACvB,IAAMC,EAAM,gBACVD,kBACG,OAAAE,EAAA,SAGL,OAAOC,EAAA,KAAKC,KAA4B,kBAAmBH,I,wBCN9C,SAAeI,EAA9B,kC,8DAAe,WAA6BC,GAA7B,uGACUC,EAAQD,GADlB,kBACLE,KAER,OAAAC,EAAA,MAAW,OAAMC,UAHJ,2C,wBCkCf,IAAqB,EAArB,yG,0BACE,EAAAC,aAAc,EADhB,sHAekBL,GAflB,wFAgBIxB,KAAK6B,aAAc,EAhBvB,kBAkBYN,EAAcC,GAlB1B,OAoBMxB,KAAK8B,MAAMC,MAAM,OAAQ,CACvBC,eAAgB,OAChBC,YAAajC,KAAKkC,OAAOtC,QAAQC,cAtBzC,mDAyBMG,KAAK6B,aAAc,EAzBzB,kJAOc,WACV,OAAO7B,KAAKmC,QAAQC,QAAO,SAACC,GAAD,OAAYA,EAAO1C,SAAW,EAAKA,YARlE,iCAYI,OAAOK,KAAK6B,YAAc,CAAC,aAAc,uBAAyB,OAZtE,GAA4C,QAAvB,EAAc,gBAHlC,eAAU,CACTS,SAAU,eAAW,CAAC,UAAW,cAEd,WCvCoX,I,YCOrYC,EAAY,eACd,EACAzC,EACAmB,GACA,EACA,KACA,KACA,MAIa,aAAAsB,E,mHCbTC,EAAoB,CACxB,OAAMC,aACN,OAAMC,QACN,OAAMd,UAGM,gBAAWe,GAGnB,OAAM/C,QAAQgD,SAAWJ,EAAkBK,SAASF,KAIxD,OAAOG,KAAK,CAAEC,KAAMJ,EAAOxB,OAAQ,CAAEK,GAAI,OAAM5B,QAAQC,eAEvD,OAAMmD,OAAO,OAAUC,mBAAoBN","file":"js/GameKillPlayer.aa4fa6d3.js","sourcesContent":["import store from '@/store';\nimport { UserID, ChannelName } from '@/types/game';\n\nexport default function (): {\n  userId: UserID,\n  channelName: ChannelName\n  } {\n  return {\n    userId: store.getters.userId,\n    channelName: store.getters.channelName,\n  };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',[_vm._v(\"Eliminate Player\")]),_c('div',{staticClass:\"container flex justify-center\"},[_c('div',{staticClass:\"lg:w-1/2\"},[_c('h3',{staticClass:\"font-serif text-2xl mb-4\"},[_vm._v(\"You have the power to eliminate one player!\")]),_c('p',[_vm._v(\"Select a player which should be killed.\")]),_c('div',{staticClass:\"mt-8\",class:_vm.getClasses},[_c('ul',_vm._l((_vm.killable),function(player){return _c('li',{key:player.userId,staticClass:\"py-2 font-serif text-gray-700 cursor-pointer text-xl px-3 bg-white rounded shadow flex justify-between mb-2\"},[_c('span',[_vm._v(_vm._s(player.userName))]),_c('button',{staticClass:\"py-1 px-2 upeprcase text-sm bg-gray-200 text-gray-700 font-bold rounded tracking-wide hover:bg-red-500 hover:text-yellow-200\",on:{\"click\":function($event){return _vm.eliminate(player.userId)}}},[_vm._v(\"Eliminate\")])])}),0)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from '@/plugins/http';\nimport { PlayerExecuteRequest, PlayerExecuteResponse } from '@/types/http';\nimport { UserID } from '@/types/game';\nimport mergeDefaultParams from '@/utils/mergeDefaultParams';\n\nexport default function (executedUserId: UserID) {\n  const params: PlayerExecuteRequest = {\n    executedUserId,\n    ...mergeDefaultParams(),\n  };\n\n  return http.post<PlayerExecuteResponse>('/player/execute', params);\n}\n","import { UserID } from '@/types/game';\nimport execute from '@/api/player/execute';\nimport navigateTo from '@/utils/navigateTo';\nimport Route from '@/types/route';\n\nexport default async function executePlayer(id: UserID) {\n  const { data } = await execute(id);\n\n  navigateTo(Route.GameInfo);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\nimport Component from 'vue-class-component';\nimport { Member, UserID } from '../types/game';\nimport executePlayer from '../actions/executePlayer';\n\n@Component({\n  computed: mapGetters(['members', 'userId']),\n})\nexport default class GameKillPlayer extends Vue {\n  eliminating = false;\n\n  members!: Member[];\n\n  userId!: UserID;\n\n  get killable() {\n    return this.members.filter((member) => member.userId !== this.userId);\n  }\n\n  get getClasses() {\n    return this.eliminating ? ['opacity-50', 'pointer-events-none'] : [];\n  }\n\n  async eliminate(id: UserID) {\n    this.eliminating = true;\n    try {\n      await executePlayer(id);\n\n      this.$gtag.event('game', {\n        event_category: 'kill',\n        event_label: this.$store.getters.channelName,\n      });\n    } catch (e) {\n      this.eliminating = false;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameKillPlayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameKillPlayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameKillPlayer.vue?vue&type=template&id=fd143546&\"\nimport script from \"./GameKillPlayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameKillPlayer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Route from '@/types/route';\nimport router from '@/router';\nimport store from '@/store';\nimport { mutations } from '@/store/game';\n\nconst availableWhenDead = [\n  Route.GameIsKilled,\n  Route.GameWon,\n  Route.GameInfo,\n];\n\nexport default function (route: Route) {\n  // If the current player is dead, we don't want to redirect to the action,\n  // unless the game is over, or he wants to see the info screen.\n  if (store.getters.isDead && !availableWhenDead.includes(route)) {\n    return;\n  }\n\n  router.push({ name: route, params: { id: store.getters.channelName } });\n\n  store.commit(mutations.SET_CURRENT_ACTION, route);\n}\n"],"sourceRoot":""}